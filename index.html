<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mexico City Travel Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Oswald:wght@500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        html, body { background-color: #0b0b0b; margin: 0; }
        body { font-family: 'Inter', sans-serif; }
        .headline { font-family: 'Oswald', sans-serif; letter-spacing: 0.08em; }
        
        /* Navigation & Tabs */
        .nav-link-active { 
            color: #c7ff4d; 
            font-weight: 600; 
            border: 1px solid rgba(199, 255, 77, 0.5); 
            background: rgba(199, 255, 77, 0.05);
        }
        .nav-link-inactive { color: #94a3b8; border: 1px solid transparent; }
        .nav-link-inactive:hover { color: #fff; background: rgba(255, 255, 255, 0.05); }

        /* Chart */
        .chart-container { position: relative; width: 100%; height: 250px; }

        /* Typography */
        .section-title { color: #c7ff4d; } /* lime */

        /* Components */
        .panel { background: #1b1b1b; border: 1px solid rgba(255, 255, 255, 0.06); }
        .panel-soft { background: #232323; border: 1px solid rgba(255, 255, 255, 0.08); }
        .pill { background: #2c2c2c; border: 1px solid rgba(255, 255, 255, 0.08); }
        .accent-chip { background: linear-gradient(135deg, #c7ff4d, #ffa94d); color: #0f0f0f; font-weight: 600; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0b0b0b; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #444; }
    </style>
</head>
<body class="bg-[#0b0b0b] text-slate-100 min-h-screen">

    <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 sm:py-6">
        <!-- Main Dashboard Container -->
        <div class="rounded-[36px] bg-[#0f0f0f] border border-[#1f1f1f] shadow-2xl shadow-black/50 overflow-hidden flex flex-col lg:flex-row min-h-[calc(100vh-3rem)]">
            
            <!-- Sidebar -->
            <aside class="w-full lg:w-24 bg-[#0a0a0a] border-b lg:border-b-0 lg:border-r border-[#1f1f1f] shrink-0">
                <div class="flex lg:flex-col items-center justify-between lg:justify-start gap-6 px-4 py-4 lg:py-8 h-full">
                    <!-- Logo -->
                    <div class="flex items-center gap-3 lg:flex-col">
                        <div class="h-10 w-10 lg:h-12 lg:w-12 rounded-full bg-white text-black flex items-center justify-center text-lg lg:text-xl font-bold">CD</div>
                        <div class="hidden lg:block text-[10px] uppercase tracking-[0.2em] text-slate-500 font-bold">CDMX</div>
                    </div>
                    
                    <!-- Icons -->
                    <div class="flex lg:flex-col items-center gap-4 lg:mt-8">
                        <button class="h-10 w-10 rounded-full panel-soft flex items-center justify-center text-slate-400 hover:text-white hover:bg-white/10 transition-all">‚ù§Ô∏è</button>
                        <button class="h-10 w-10 rounded-full panel-soft flex items-center justify-center text-slate-400 hover:text-white hover:bg-white/10 transition-all">üó∫Ô∏è</button>
                        <button class="h-10 w-10 rounded-full panel-soft flex items-center justify-center text-slate-400 hover:text-white hover:bg-white/10 transition-all">üéüÔ∏è</button>
                    </div>

                    <!-- Add Button -->
                    <div class="lg:mt-auto">
                        <button class="h-10 w-10 lg:h-12 lg:w-12 rounded-full accent-chip text-xl shadow-lg hover:opacity-90 transition-opacity flex items-center justify-center">+</button>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <div class="flex-1 px-4 py-6 sm:px-6 lg:px-10 lg:py-8 overflow-y-auto">
                
                <!-- Header Area -->
                <header class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between mb-8">
                    <div>
                        <p class="text-xs uppercase tracking-[0.3em] text-lime-300/70 font-semibold">Mexico City Guide</p>
                        <h1 class="headline text-3xl sm:text-5xl text-white mt-2">CHECK POINTS</h1>
                        <p class="text-slate-400 mt-2 text-sm sm:text-base max-w-xl">A curated guide to CDMX dining, culture, and stays‚Äîorganized for quick exploration.</p>
                    </div>
                    
                    <!-- Status Chips -->
                    <div class="flex flex-wrap items-center gap-3">
                        <div class="panel rounded-full px-4 py-2 text-xs sm:text-sm text-slate-400 border border-white/5">Season: <span class="text-white font-semibold">Spring</span></div>
                        <div class="panel rounded-full px-4 py-2 text-xs sm:text-sm text-slate-400 border border-white/5">Mood: <span class="text-white font-semibold">Adventure</span></div>
                        <div class="hidden sm:flex items-center gap-3 panel rounded-full pl-2 pr-4 py-1.5 border border-white/5">
                            <div class="h-7 w-7 rounded-full bg-gradient-to-tr from-lime-400 to-emerald-500"></div>
                            <div class="text-xs">
                                <p class="text-white font-semibold leading-none">Explorer</p>
                                <p class="text-[10px] text-slate-400">@traveler</p>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Navigation Tabs -->
                <nav id="mainNav" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 mb-8">
                    <button data-target="home" class="nav-link panel rounded-2xl px-4 py-3 text-left text-sm transition-all nav-link-active">üè† Home</button>
                    <button data-target="eat" class="nav-link panel rounded-2xl px-4 py-3 text-left text-sm transition-all nav-link-inactive">üçΩÔ∏è Eat</button>
                    <button data-target="seeDo" class="nav-link panel rounded-2xl px-4 py-3 text-left text-sm transition-all nav-link-inactive">üèûÔ∏è See &amp; Do</button>
                    <button data-target="stay" class="nav-link panel rounded-2xl px-4 py-3 text-left text-sm transition-all nav-link-inactive">üè® Stay</button>
                    <button data-target="tips" class="nav-link panel rounded-2xl px-4 py-3 text-left text-sm transition-all nav-link-inactive sm:col-span-3 md:col-span-1">üí° Tips</button>
                </nav>

                <!-- Dynamic Content Area -->
                <main id="contentArea" class="pb-10">
                    
                    <!-- HOME SECTION -->
                    <section id="home" class="content-section space-y-6 animate-fade-in">
                        <div class="grid gap-6 lg:grid-cols-[1.2fr_1fr]">
                            <!-- Stats & Intro -->
                            <div class="panel rounded-3xl p-6 shadow-lg shadow-black/40 border border-white/5">
                                <h2 class="text-xl font-semibold section-title mb-3">Your CDMX Dashboard</h2>
                                <p class="text-slate-300 text-sm leading-relaxed mb-6">
                                    Welcome. This interactive guide synthesizes top recommendations for Mexico City. 
                                    Use the tabs above to filter by category, or check the blueprint below for a quick start.
                                </p>
                                
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="panel-soft rounded-2xl p-4 text-center sm:text-left">
                                        <p class="text-[10px] uppercase text-slate-500 font-bold tracking-wider">Spots</p>
                                        <p class="text-2xl font-bold text-white mt-1" id="totalCount">0</p>
                                    </div>
                                    <div class="panel-soft rounded-2xl p-4 text-center sm:text-left">
                                        <p class="text-[10px] uppercase text-slate-500 font-bold tracking-wider">Food</p>
                                        <p class="text-2xl font-bold text-white mt-1" id="foodCount">0</p>
                                    </div>
                                    <div class="panel-soft rounded-2xl p-4 text-center sm:text-left">
                                        <p class="text-[10px] uppercase text-slate-500 font-bold tracking-wider">Culture</p>
                                        <p class="text-2xl font-bold text-white mt-1" id="cultureCount">0</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Chart -->
                            <div class="panel rounded-3xl p-6 shadow-lg shadow-black/40 border border-white/5 flex flex-col justify-center">
                                <div class="flex items-center justify-between mb-2">
                                    <h3 class="text-sm font-semibold text-slate-200">Category Breakdown</h3>
                                    <span class="text-[10px] text-lime-400 bg-lime-400/10 px-2 py-1 rounded-full">Live Data</span>
                                </div>
                                <div class="chart-container flex items-center justify-center">
                                    <canvas id="recommendationsChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Trip Blueprint -->
                        <div class="panel rounded-3xl p-6 sm:p-8 shadow-lg shadow-black/40 border border-white/5">
                            <h3 class="text-lg font-semibold text-white mb-6">Daily Blueprint</h3>
                            <div class="grid sm:grid-cols-3 gap-6 relative">
                                <!-- Connecting Line (Desktop) -->
                                <div class="hidden sm:block absolute top-4 left-0 w-full h-0.5 bg-gradient-to-r from-lime-500/20 via-lime-500/50 to-lime-500/20 z-0"></div>

                                <!-- Step 1 -->
                                <div class="relative z-10">
                                    <div class="w-8 h-8 rounded-full accent-chip flex items-center justify-center text-sm font-bold mb-4 shadow-[0_0_15px_rgba(199,255,77,0.3)]">1</div>
                                    <h4 class="text-white font-medium mb-1">Morning: Roma Norte</h4>
                                    <p class="text-xs text-slate-400 leading-relaxed">Coffee at Panader√≠a Rosetta followed by a walk through Plaza Rio de Janeiro.</p>
                                </div>
                                
                                <!-- Step 2 -->
                                <div class="relative z-10">
                                    <div class="w-8 h-8 rounded-full bg-[#333] border border-white/10 text-slate-200 flex items-center justify-center text-sm font-bold mb-4">2</div>
                                    <h4 class="text-white font-medium mb-1">Afternoon: Coyoac√°n</h4>
                                    <p class="text-xs text-slate-400 leading-relaxed">Visit the Frida Kahlo Museum (book weeks ahead!) and explore the local market.</p>
                                </div>

                                <!-- Step 3 -->
                                <div class="relative z-10">
                                    <div class="w-8 h-8 rounded-full bg-[#333] border border-white/10 text-slate-200 flex items-center justify-center text-sm font-bold mb-4">3</div>
                                    <h4 class="text-white font-medium mb-1">Evening: Polanco</h4>
                                    <p class="text-xs text-slate-400 leading-relaxed">Dinner at Pujol or Quintonil, followed by cocktails at a speakeasy.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- EAT SECTION -->
                    <section id="eat" class="content-section hidden space-y-6">
                        <div class="panel rounded-3xl p-6 shadow-lg shadow-black/40 border border-white/5">
                            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6">
                                <div>
                                    <h2 class="text-2xl font-semibold section-title">Culinary Delights</h2>
                                    <p class="text-slate-400 text-sm mt-1">From street tacos to Michelin stars.</p>
                                </div>
                                <div id="eatSubNav" class="flex flex-wrap gap-2">
                                    <button data-subtarget="all" class="subnav-link accent-chip px-4 py-1.5 rounded-full text-xs hover:opacity-90 transition-all">All</button>
                                    <button data-subtarget="Breakfast & Coffee" class="subnav-link pill text-slate-300 px-4 py-1.5 rounded-full text-xs hover:bg-white/10 transition-all">Coffee & Brunch</button>
                                    <button data-subtarget="Tacos & Street Food" class="subnav-link pill text-slate-300 px-4 py-1.5 rounded-full text-xs hover:bg-white/10 transition-all">Tacos</button>
                                    <button data-subtarget="Refined Dining" class="subnav-link pill text-slate-300 px-4 py-1.5 rounded-full text-xs hover:bg-white/10 transition-all">Fine Dining</button>
                                </div>
                            </div>
                            <div id="eatContent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <!-- JS Injected Content -->
                            </div>
                        </div>
                    </section>

                    <!-- SEE & DO SECTION -->
                    <section id="seeDo" class="content-section hidden space-y-6">
                        <div class="panel rounded-3xl p-6 shadow-lg shadow-black/40 border border-white/5">
                            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6">
                                <div>
                                    <h2 class="text-2xl font-semibold section-title">Culture & Sights</h2>
                                    <p class="text-slate-400 text-sm mt-1">Museums, parks, and ancient history.</p>
                                </div>
                                <div id="seeDoSubNav" class="flex flex-wrap gap-2">
                                    <button data-subtarget="all" class="subnav-link accent-chip px-4 py-1.5 rounded-full text-xs hover:opacity-90 transition-all">All</button>
                                    <button data-subtarget="Art, History & Architecture" class="subnav-link pill text-slate-300 px-4 py-1.5 rounded-full text-xs hover:bg-white/10 transition-all">History</button>
                                    <button data-subtarget="Parks & Urban Escapes" class="subnav-link pill text-slate-300 px-4 py-1.5 rounded-full text-xs hover:bg-white/10 transition-all">Parks</button>
                                    <button data-subtarget="Unforgettable Adventures" class="subnav-link pill text-slate-300 px-4 py-1.5 rounded-full text-xs hover:bg-white/10 transition-all">Adventure</button>
                                </div>
                            </div>
                            <div id="seeDoContent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <!-- JS Injected Content -->
                            </div>
                        </div>
                    </section>

                    <!-- STAY SECTION -->
                    <section id="stay" class="content-section hidden space-y-6">
                        <div class="panel rounded-3xl p-6 shadow-lg shadow-black/40 border border-white/5">
                            <h2 class="text-2xl font-semibold section-title mb-2">Accommodation</h2>
                            <p class="text-slate-400 text-sm mb-6">Curated stays in the best neighborhoods.</p>
                            <div id="stayContent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4">
                                <!-- JS Injected Content -->
                            </div>
                        </div>
                    </section>

                    <!-- TIPS SECTION -->
                    <section id="tips" class="content-section hidden space-y-6">
                        <div class="panel rounded-3xl p-6 shadow-lg shadow-black/40 border border-white/5">
                            <h2 class="text-2xl font-semibold section-title mb-6">Travel Tips</h2>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="panel-soft p-5 rounded-2xl border-l-2 border-lime-400">
                                    <h3 class="font-semibold text-lime-100 mb-2">üí∞ Cash & Currency</h3>
                                    <p class="text-sm text-slate-400 leading-relaxed">Keep small denominations of pesos (20s, 50s) for street food vendors and tipping. Not everyone accepts cards.</p>
                                </div>
                                <div class="panel-soft p-5 rounded-2xl border-l-2 border-sky-400">
                                    <h3 class="font-semibold text-sky-100 mb-2">üìÖ Reservations</h3>
                                    <p class="text-sm text-slate-400 leading-relaxed">For top spots like Pujol or Casa Azul, book 1-2 months in advance. They sell out incredibly fast.</p>
                                </div>
                                <div class="panel-soft p-5 rounded-2xl border-l-2 border-amber-400">
                                    <h3 class="font-semibold text-amber-100 mb-2">üöó Getting Around</h3>
                                    <p class="text-sm text-slate-400 leading-relaxed">Uber is safe and affordable. Avoid hailing street taxis. The Metro is efficient but very crowded during rush hour.</p>
                                </div>
                                <div class="panel-soft p-5 rounded-2xl border-l-2 border-purple-400">
                                    <h3 class="font-semibold text-purple-100 mb-2">üíß Water Safety</h3>
                                    <p class="text-sm text-slate-400 leading-relaxed">Do not drink tap water. Use bottled or filtered water for drinking and brushing your teeth to avoid illness.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                </main>

                <!-- Footer -->
                <footer class="text-center pt-8 border-t border-[#1f1f1f] text-slate-500 text-xs">
                    <p>&copy; <span id="currentYear"></span> Mexico City Travel Guide. Curated with ‚ù§Ô∏è and JS.</p>
                </footer>
            </div>
        </div>
    </div>

    <script>
        // Data Source
        const recommendations = [
            // Stay
            {
                id: 'dib-experience', name: 'DIB the Experience', category: 'Stay', subCategory: 'Boutique',
                description: 'A "beautiful" three-story loft apartment, noted for its affordability. Offers free WiFi, private parking.',
                address: '148 M√©rida, Mexico City', website: null, sourceQuote: 'Affordable three-story loft.', michelin: false
            },
            {
                id: 'hotel-san-fernando', name: 'Hotel San Fernando', category: 'Stay', subCategory: 'Boutique',
                description: 'A boutique hotel in the heart of Condesa. Features "super cute" rooms and an "adorable rooftop."',
                address: 'Iztaccihuatl 54, Condesa', website: null, sourceQuote: 'Adorable rooftop vibe.', michelin: true
            },
            // Eat
            {
                id: 'forte', name: 'Forte', category: 'Eat', subCategory: 'Breakfast & Coffee',
                description: 'Praised as a "beautiful coffee shop and bakery" known for its "fantastic homemade bread."',
                address: 'C. Quer√©taro 116, Roma Norte', website: null, sourceQuote: 'Fantastic homemade bread.', michelin: false
            },
            {
                id: 'quentin', name: 'Quentin', category: 'Eat', subCategory: 'Breakfast & Coffee',
                description: 'Situated on a tree-lined street, Quentin is a "perfect spot to meet friends" with really great coffee.',
                address: 'Av. √Ålvaro Obreg√≥n 64, Roma Nte.', website: null, sourceQuote: 'Quintessential coffee hub.', michelin: false
            },
            {
                id: 'taqueria-orinoco', name: 'Taquer√≠a Orinoco', category: 'Eat', subCategory: 'Tacos & Street Food',
                description: 'Famous for its Chicharron tacos. A hip spot that blends fast food vibes with high-quality traditional tastes.',
                address: 'Av. Insurgentes Sur 253', website: null, sourceQuote: 'Best Chicharron tacos.', michelin: false
            },
            {
                id: 'pujol', name: 'Pujol', category: 'Eat', subCategory: 'Refined Dining',
                description: 'Enrique Olvera\'s masterpiece. Consistently ranked among the best in the world. Famous for its Mole Madre.',
                address: 'Tennyson 133, Polanco', website: 'https://pujol.com.mx/', sourceQuote: 'Culinary perfection.', michelin: true
            },
             {
                id: 'handshake', name: 'Handshake Speakeasy', category: 'Eat', subCategory: 'Refined Dining',
                description: 'Hidden behind a secret door, this bar offers world-class molecular cocktails in an Art Deco setting.',
                address: 'Amberes 65, Juarez', website: null, sourceQuote: 'Mind-blowing cocktails.', michelin: false
            },
            // See & Do
            {
                id: 'casa-azul', name: 'Frida Kahlo Museum', category: 'See & Do', subCategory: 'Art, History & Architecture',
                description: 'The Blue House where Frida lived and died. A deeply personal museum filled with her art and belongings.',
                address: 'Londres 247, Coyoac√°n', website: 'https://museofridakahlo.org.mx/', tickets: '#', sourceQuote: 'A must-visit for art lovers.', michelin: false
            },
            {
                id: 'chapultepec', name: 'Chapultepec Park', category: 'See & Do', subCategory: 'Parks & Urban Escapes',
                description: 'One of the largest city parks in the Western Hemisphere. Home to a castle, a zoo, and anthropology museum.',
                address: 'Miguel Hidalgo', website: null, sourceQuote: 'The lungs of the city.', michelin: false
            },
             {
                id: 'teotihuacan', name: 'Teotihuacan', category: 'See & Do', subCategory: 'Unforgettable Adventures',
                description: 'Ancient Mesoamerican city known for its vast Avenue of the Dead and Pyramid of the Sun. Take a balloon ride!',
                address: 'San Juan Teotihuac√°n', tickets: '#', sourceQuote: 'City of the Gods.', michelin: false
            }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            // Set Year
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // Stats Logic
            document.getElementById('totalCount').textContent = recommendations.length;
            document.getElementById('foodCount').textContent = recommendations.filter(r => r.category === 'Eat').length;
            document.getElementById('cultureCount').textContent = recommendations.filter(r => r.category === 'See & Do').length;

            // DOM Elements
            const mainNav = document.getElementById('mainNav');
            const contentSections = document.querySelectorAll('.content-section');
            
            // SubNavs
            const eatSubNav = document.getElementById('eatSubNav');
            const seeDoSubNav = document.getElementById('seeDoSubNav');
            
            // Content Containers
            const eatContent = document.getElementById('eatContent');
            const seeDoContent = document.getElementById('seeDoContent');
            const stayContent = document.getElementById('stayContent');

            // Render Function
            function displayContent(targetId, subTarget = 'all', contentArea, dataCategory) {
                const itemsToDisplay = recommendations.filter(item => {
                    if (item.category !== dataCategory) return false;
                    return subTarget === 'all' || item.subCategory === subTarget;
                });

                contentArea.innerHTML = itemsToDisplay.map(item => `
                    <div class="panel-soft p-5 rounded-2xl flex flex-col justify-between hover:bg-[#2a2a2a] transition-colors group border border-transparent hover:border-lime-500/20">
                        <div>
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-base font-semibold text-white group-hover:text-lime-300 transition-colors">
                                    ${item.name}
                                </h3>
                                ${item.michelin ? '<span class="text-xs ml-2 cursor-help" title="Michelin Recognized">‚≠ê</span>' : ''}
                            </div>
                            
                            ${item.subCategory ? `<p class="text-[10px] text-slate-500 uppercase tracking-wider mb-2 font-bold">${item.subCategory}</p>` : ''}
                            
                            <p class="text-slate-300 mb-4 text-xs leading-relaxed line-clamp-3">${item.description}</p>
                            
                            ${item.address ? `<p class="text-xs text-slate-500 mb-3 flex items-center gap-1">üìç ${item.address}</p>` : ''}
                            
                            ${item.sourceQuote ? `<div class="bg-black/20 p-2 rounded-lg mb-3 border-l-2 border-amber-500"><p class="text-[11px] text-slate-400 italic">"${item.sourceQuote}"</p></div>` : ''}
                        </div>
                        
                        <div class="mt-2 flex gap-2">
                            ${item.website ? `<a href="${item.website}" target="_blank" class="text-[10px] bg-[#333] hover:bg-lime-900 hover:text-lime-200 text-white px-3 py-1.5 rounded-full transition-colors">Website ‚Üó</a>` : ''}
                            ${item.tickets ? `<a href="${item.tickets}" target="_blank" class="text-[10px] bg-lime-600 hover:bg-lime-500 text-black font-semibold px-3 py-1.5 rounded-full transition-colors">Tickets üéüÔ∏è</a>` : ''}
                        </div>
                    </div>
                `).join('');

                if (itemsToDisplay.length === 0) {
                    contentArea.innerHTML = `<p class="text-slate-500 col-span-full text-center py-10 italic">No spots found in this category yet.</p>`;
                }
            }

            // Tab Switching Logic
            mainNav.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const targetId = e.target.dataset.target;
                    
                    // Hide all sections
                    contentSections.forEach(section => section.classList.add('hidden'));
                    // Show target
                    document.getElementById(targetId).classList.remove('hidden');

                    // Update Main Nav Styles
                    mainNav.querySelectorAll('button').forEach(btn => {
                        btn.classList.remove('nav-link-active');
                        btn.classList.add('nav-link-inactive');
                    });
                    e.target.classList.add('nav-link-active');
                    e.target.classList.remove('nav-link-inactive');

                    // Trigger render for specific tabs
                    if (targetId === 'eat') displayContent('eat', 'all', eatContent, 'Eat');
                    if (targetId === 'seeDo') displayContent('seeDo', 'all', seeDoContent, 'See & Do');
                    if (targetId === 'stay') displayContent('stay', 'all', stayContent, 'Stay');
                }
            });

            // Sub-Nav Logic (Generic)
            function setupSubNav(navElement, contentElement, categoryName) {
                if(!navElement) return;
                navElement.addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        // Update Styles
                        navElement.querySelectorAll('button').forEach(btn => {
                            btn.classList.remove('accent-chip');
                            btn.classList.add('pill', 'text-slate-300');
                        });
                        e.target.classList.remove('pill', 'text-slate-300');
                        e.target.classList.add('accent-chip');

                        // Render
                        displayContent(null, e.target.dataset.subtarget, contentElement, categoryName);
                    }
                });
            }

            setupSubNav(eatSubNav, eatContent, 'Eat');
            setupSubNav(seeDoSubNav, seeDoContent, 'See & Do');

            // Initialize Charts
            const ctx = document.getElementById('recommendationsChart').getContext('2d');
            
            // Prepare Data
            const categories = ['Eat', 'See & Do', 'Stay'];
            const counts = categories.map(cat => recommendations.filter(r => r.category === cat).length);

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: categories,
                    datasets: [{
                        data: counts,
                        backgroundColor: [
                            '#fbbf24', // Amber (Eat)
                            '#22d3ee', // Cyan (See Do)
                            '#a3e635'  // Lime (Stay)
                        ],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                color: '#94a3b8',
                                font: { family: 'Inter', size: 10 },
                                boxWidth: 10,
                                usePointStyle: true
                            }
                        }
                    },
                    cutout: '75%'
                }
            });
        });
    </script>
</body>
</html>
